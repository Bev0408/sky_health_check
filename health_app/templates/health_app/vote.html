{% extends 'health_app/base.html' %}

{% block content %}
<h2>Engineer Voting</h2>

<form method="post">
  {% csrf_token %}

  <label for="session">Select Session:</label>
  <select name="session" id="session">
    {% for s in sessions %}
      <option value="{{ s.id }}">{{ s.name }}</option>
    {% endfor %}
  </select>

  <br><br>

  {% for card in cards %}
    <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
      <strong>{{ card.name }}</strong><br>
      <p>{{ card.description }}</p>

      <label>
        <input type="radio" name="vote_{{ card.id }}" value="G"> Green
      </label>
      <label>
        <input type="radio" name="vote_{{ card.id }}" value="A"> Amber
      </label>
      <label>
        <input type="radio" name="vote_{{ card.id }}" value="R"> Red
      </label>
      <br><br>

      <label>Progress:</label>
      <select name="progress_{{ card.id }}">
        <option value="">N/A</option>
        <option value="B">Better</option>
        <option value="S">Same</option>
        <option value="W">Worse</option>
      </select>
    </div>
  {% endfor %}

  <button type="submit">Submit Votes</button>
</form>
{% endblock %}
